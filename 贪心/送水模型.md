# 送水模型

## 题目

在横坐标上,有n个位置$pos_i$需要送水,第i个位置需要送$a_i$桶水.初始你在x=0的位置,每次你可以带至多k桶水,问你最少要走多少路程才能送完所有水,送完水后可以不用回到原点.

## 做法

先将位置从小到大排序,先考虑$pos_i>0$的部分

考虑到当前送第i个位置的水,那显然要送$\lceil\frac{a_i}{k}\rceil = \lfloor\frac{a_i+k-1}{k}\rfloor$次.送完最后一次时,此时会剩下$k-a_i\%k$桶水,考虑是送到第x(x<i)个位置还是送到第y(y>i)个位置.

显然,如果第y个位置的水再这之前没送完,那么路程是单调递增的;而考虑x的话则是单调递减的,因此从远往近送.

即,每次送当前还没送完最远位置t的水,如果有剩余,则送给t-1位置的水.

由于最后不用回到原点,所以有一个显然的贪心是最后一次送水是送最远的,所以最后的路程要减去最远的位置.

显然$pos_i<0$的部分也类似于$pos_i>0$的部分.

考虑两边的交集,由于从$pos_i>0$到$pos_i<0$或反过来都要经过原点,所以都可以补水,所以不会影响贪心送水的策略.

要考虑的只有是先送左边还是右边,由于只会影响最后一次,所以显然我们后送有最远距离的那一边

